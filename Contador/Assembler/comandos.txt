LDI $0 --ZERNADO O DISPLAY E OS LEDS

STA @288  --HEX0
STA @289  --HEX1
STA @290  --HEX2
STA @291  --HEX3
STA @292  --HEX4
STA @293  --HEX5

STA @256 --LEDR 0 a 7
STA @257 --LEDR 8
STA @258 --LEDR 9

LDI $0 --ZERANDO OS ALGORISMOS
STA @0 --UNIDADE
STA @1 --DEZENA
STA @2 --CENTENA 
STA @3 --MILHAR
STA @4 --DEZENAS DE MILHAR
STA @5 --CENTENA DE MILHAR

LDI $0
STA @6 --FLAG PARA O KEY 0 E KEY 2

LDI $1
STA @7 --GUARDA O VALOR 1 PARA SOMA
STA @8 --FLAG DO RESET

LDI $10 --GUARDAR O VALOR 10 PARA COMPARAR
STA @10


LDI $1 --GUARDA O VALOR 1 PARA SUB
STA @13 --VARIAVEL DO DECREMENTO
STA @11 --FLAG DO KEY2


INICIO:     
LDA @353 --KEY1
CEQ @8
JEQ RESET --PULA PARA O RESET

LDA @354 --KEY2
CEQ @13
JEQ DECREMENTO --PULA PARA DECREMENTO

LDA @352 --KEY0
CEQ @6 
JEQ PULA1 --PULA PARA PULA1
JSR INCREMENTA --PULA SUB-ROTINA PARA INCREMENTA 

PULA1:    
JSR DISPLAY --PULA SUB-ROTINA PARA DISPLAY          
JMP INICIO  --PULA PARA O INICIO

INCREMENTA:    
STA @511 --LIMPA O KEY 0
LDI $1
LDA @13
LDA @0
SOMA @7
STA @0
CEQ @10
JEQ AUMENTA_DEZENA --PULA PARA AUMENTA_DEZENA
RET 

DISPLAY:  37
LDA @0
STA @288
LDA @1 
STA @289
LDA @2
STA @290
LDA @3
STA @291
LDA @4
STA @292
LDA @5
STA @293
RET

AUMENTA_DEZENA:
LDI $0
STA @0
LDA @1 
SOMA @7
STA @1
CEQ @10
JEQ AUMENTA_CENTENA --PULA PARA AUMENTA_CENTENA
RET

AUMENTA_CENTENA:   
LDI $0
STA @1
LDA @2
SOMA @7
STA @2
CEQ @10
JEQ AUMENTA_MILHAR --PULA PARA AUMENTA_MILHAR
RET

AUMENTA_MILHAR:  
LDI $0
STA @2
LDA @3
SOMA @7
STA @3
CEQ @10
JEQ AUMENTA_DEZENA_MILHAR --PULA PARA AUMENTA_DEZENA_MILHAR
RET

AUMENTA_DEZENA_MI:   
LDI $0
STA @3
LDA @4
SOMA @7
STA @4
CEQ @10
JEQ AUMENTA_CENTENA_MILHAR --PULA PARA AUMENTA_CENTENA_MILHAR
RET

AUMENTA_CENTENA_MILHAR:
LDI $0
STA @4
LDA @5
SOMA @7
STA @5
CEQ @10
JEQ OVERFLOW --PULA PARA OVERFLOW
RET

OVERFLOW:
LDI $9 --DEFINE TODOS OS ALGORISMOS QUANDO ACONTECE O OVERFLOW
STA @0
STA @1
STA @2
STA @3
STA @4
STA @5
LDI $0
STA @7
LDI $1
STA @258 --LIGA O LED 9 PARA INFORMAR O OVERFLOW 
RET

RESET:
STA @510 --LIMPA KEY1  
JMP @0


DECREMENTO:
LDI $0 
STA @9 

JSR MENOS_UNIDADE --PULA PARA MENOS_UNIDADE
JMP PULA1 --PULA PARA PULA1

MENOS_UNIDADE:
STA @509 --LIMPA O KEY2
LDI $1
STA @7

LDI $0
STA @258 --DESLIGA O LED 9 QUANDO OCORRER O OVERFLOW E DIMINUIMOS O VALOR 

LDA @0
CEQ @9
JEQ MENOS_DEZENA --PULA PARA MENOS_DEZENA
SUB @13
STA @0
RET 

MENOS_DEZENA:
LDI $9
STA @0
LDA @1 

CEQ @9
JEQ MENOS_CENTENA --PULA PARA MENOS_CENTENA
SUB @13
STA @1
RET 


MENOS_CENTENA:
LDI $9
STA @1
LDA @2 

CEQ @9
JEQ MENOS_MILHAR --PULA PARA MENOS_MILHAR
SUB @13
STA @2
RET 


MENOS_MILHAR:
LDI $9
STA @2
LDA @3
 
CEQ @9
JEQ MENOS_DEZENAS_MILHAR --PULA PARA MENOS_DEZENAS_MILHAR
SUB @13
STA @3
RET 




MENOS_DEZENAS_MILHAR:
LDI $9
STA @3
LDA @4 

CEQ @9
JEQ MENOS_CENTENA_MILHAR
SUB @13
STA @4
RET 

MENOS_CENTENA_MILHAR:
LDI $9
STA @4
LDA @5
SUB @13
STA @5
RET